<!DOCTYPE html>
<html>
<head>
    <title>Patient Consult Summary Form</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            height: 100vh;
            background-color: #f0f0f0;
            margin: 0;
        }
        .form-container {
            width: 100%; /* Make the form wider */
            max-width: 800px; /* Limit max width for better readability */
            background-color: white;
            border: 2px solid #4b0082;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            position: relative;
            max-height: 80vh;
            overflow-y: auto;
            margin-bottom: 20px;
        }
        .form-section {
            display: none;
        }
        .form-section.active {
            display: block;
        }
        .bold { font-weight: bold; }
        .italic { font-style: italic; }
        .form-group { margin-bottom: 15px; }
        .form-group label { display: block; margin-bottom: 5px; }
        .form-group input, .form-group select { width: 100%; padding: 8px; box-sizing: border-box; }
        h1, h2, button { color: #4b0082; } /* Dark purple accent */
        button { background-color: #4b0082; color: white; border: none; padding: 10px 20px; cursor: pointer; border-radius: 5px; }
        button:hover { background-color: #3a006b; }
        .button-container { display: flex; justify-content: space-between; margin-top: 20px; }
        .header {
            background-color: #4b0082;
            color: white; /* Ensure the text is white */
            text-align: center;
            padding: 10px;
            border-radius: 10px 10px 0 0;
            margin: -20px -20px 20px -20px;
        }
        .hidden { display: none; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { padding: 10px; text-align: left; border-bottom: 1px solid #ddd; }
        th { background-color: #4b0082; color: white; }
        tr:nth-child(even) { background-color: #f2f2f2; }
    </style>
</head>
<body>
    <div class="form-container" id="formContainer">
        <div class="header">
            <h1>Patient Consult Summary: Genetic Counseling</h1>
        </div>
        <form id="geneticForm">
            <div class="form-section active">
                <h2>Genetic Counselor Information</h2>
                <div class="form-group">
                    <label for="counselorName">Name:</label>
                    <input type="text" id="counselorName" name="counselorName">
                </div>
                <div class="form-group">
                    <label for="doctorName">Name of Doctor:</label>
                    <input type="text" id="doctorName" name="doctorName">
                </div>
                <div class="form-group">
                    <label for="consultationTime">Consultation Date & Time:</label>
                    <input type="datetime-local" id="consultationTime" name="consultationTime">
                </div>
                <button type="button" onclick="nextSection()">Next</button>
            </div>

            <div class="form-section">
                <h2>Patient Information</h2>
                <div class="form-group">
                    <label for="patientName">Name:</label>
                    <input type="text" id="patientName" name="patientName">
                </div>
                <div class="form-group">
                    <label for="patientDOB">DOB:</label>
                    <input type="date" id="patientDOB" name="patientDOB">
                </div>
                <div class="form-group">
                    <label for="gameteType">Gamete Type:</label>
                    <select id="gameteType" name="gameteType">
                        <option value="Egg">Egg</option>
                        <option value="Sperm">Sperm</option>
                    </select>
                </div>
                <button type="button" onclick="prevSection()">Previous</button>
                <button type="button" onclick="nextSection()">Next</button>
            </div>

            <div class="form-section">
                <h2>Partner Information</h2>
                <div class="form-group">
                    <label for="partnerName">Name:</label>
                    <input type="text" id="partnerName" name="partnerName">
                </div>
                <div class="form-group">
                    <label for="partnerDOB">DOB:</label>
                    <input type="date" id="partnerDOB" name="partnerDOB">
                </div>
                <div class="form-group">
                    <label for="eggState">Egg State:</label>
                    <input type="text" id="eggState" name="eggState">
                </div>
                <div class="form-group">
                    <label for="ageOfEgg">Age of Egg:</label>
                    <input type="text" id="ageOfEgg" name="ageOfEgg">
                </div>
                <div class="form-group">
                    <label for="positiveGameteSource">Positive Gamete Source:</label>
                    <input type="text" id="positiveGameteSource" name="positiveGameteSource">
                </div>
                <button type="button" onclick="prevSection()">Previous</button>
                <button type="button" onclick="nextSection()">Next</button>
            </div>

            <div class="form-section">
                <h2>Genetic Information</h2>
                <div class="form-group">
                    <label for="gene">Gene:</label>
                    <input type="text" id="gene" name="gene">
                </div>
                <div class="form-group">
                    <label for="inheritancePattern">Inheritance Pattern:</label>
                    <select id="inheritancePattern" name="inheritancePattern" onchange="toggleXLinkedText()">
                        <option value="Autosomal">Autosomal</option>
                        <option value="X-linked">X-linked</option>
                    </select>
                </div>
                <div id="knownFemaleCarrierFeaturesContainer" class="hidden form-group">
                    <label for="knownFemaleCarrierFeatures">Known Female Carrier Features:</label>
                    <input type="text" id="knownFemaleCarrierFeatures" name="knownFemaleCarrierFeatures">
                </div>
                <button type="button" onclick="prevSection()">Previous</button>
                <button type="button" onclick="submitForm()">Submit</button>
            </div>
        </form>
    </div>

    <div id="summaryOutput" class="hidden">
        <!-- The summary output will be displayed here -->
        <button type="button" onclick="backToForm()">Back to Form</button>
    </div>

    <script>
        const sections = document.querySelectorAll('.form-section');
        let currentSectionIndex = 0;

        function showSection(index) {
            sections.forEach((section, i) => {
                section.classList.toggle('active', i === index);
            });
            document.querySelector('.button-container button[type="button"][onclick="prevSection()"]').style.display = index === 0 ? 'none' : 'inline-block';
            document.querySelector('.button-container button[type="button"][onclick="nextSection()"]').style.display = index === sections.length - 1 ? 'none' : 'inline-block';
            document.querySelector('.button-container button[type="button"][onclick="submitForm()"]').style.display = index === sections.length - 1 ? 'inline-block' : 'none';
        }

        function nextSection() {
            if (currentSectionIndex < sections.length - 1) {
                currentSectionIndex++;
                showSection(currentSectionIndex);
            }
        }

        function prevSection() {
            if (currentSectionIndex > 0) {
                currentSectionIndex--;
                showSection(currentSectionIndex);
            }
        }

        function toggleFreeText(selectId) {
            var selectElement = document.getElementById(selectId);
            var freeTextField = document.getElementById(selectId + 'Other');
            if (selectElement.value === 'Other') {
                freeTextField.classList.remove('hidden');
            } else {
                freeTextField.classList.add('hidden');
            }
        }

        function toggleXLinkedText() {
            var pattern = document.getElementById('inheritancePattern').value;
            var xLinkedTextContainer = document.getElementById('knownFemaleCarrierFeaturesContainer');
            if (pattern === 'X-linked') {
                xLinkedTextContainer.classList.remove('hidden');
            } else {
                xLinkedTextContainer.classList.add('hidden');
            }
        }

        function submitForm() {
            document.getElementById('formContainer').classList.add('hidden');
            let formData = new FormData(document.getElementById('geneticForm'));
            let output = "<div class='header'><h1>Summary of Consult</h1></div><table>";

            output += "<tr><td><span class='bold'>Genetic Counselor:</span></td><td>" + formData.get('counselorName') + "</td></tr>";
            output += "<tr><td><span class='bold'>Name of Doctor:</span></td><td>" + formData.get('doctorName') + "</td></tr>";
            output += "<tr><td><span class='bold'>Consultation Date & Time:</span></td><td>" + formData.get('consultationTime') + "</td></tr>";

            output += "<tr><td colspan='2'><h3 class='underline'>Patient Information</h3></td></tr>";
            output += "<tr><td><span class='bold'>Name:</span></td><td>" + formData.get('patientName') + "</td></tr>";
            output += "<tr><td><span class='bold'>DOB:</span></td><td>" + formData.get('patientDOB') + "</td></tr>";
            output += "<tr><td><span class='bold'>Gamete Type:</span></td><td>" + formData.get('gameteType') + "</td></tr>";

            output += "<tr><td colspan='2'><h3 class='underline'>Partner Information</h3></td></tr>";
            output += "<tr><td><span class='bold'>Name:</span></td><td>" + formData.get('partnerName') + "</td></tr>";
            output += "<tr><td><span class='bold'>DOB:</span></td><td>" + formData.get('partnerDOB') + "</td></tr>";
            output += "<tr><td><span class='bold'>Egg State:</span></td><td>" + formData.get('eggState') + "</td></tr>";
            output += "<tr><td><span class='bold'>Age of Egg:</span></td><td>" + formData.get('ageOfEgg') + "</td></tr>";
            output += "<tr><td><span class='bold'>Positive Gamete Source:</span></td><td>" + formData.get('positiveGameteSource') + "</td></tr>";

            output += "<tr><td colspan='2'><h3 class='underline'>Genetic Information</h3></td></tr>";
            output += "<tr><td><span class='bold'>Gene:</span></td><td>" + formData.get('gene') + "</td></tr>";
            output += "<tr><td><span class='bold'>Inheritance Pattern:</span></td><td>" + formData.get('inheritancePattern') + "</td></tr>";

            if (formData.get('inheritancePattern') === 'X-linked') {
                output += "<tr><td><span class='bold'>Known Female Carrier Features:</span></td><td>" + formData.get('knownFemaleCarrierFeatures') + "</td></tr>";
            }

            output += "</table>";

            document.getElementById('summaryOutput').innerHTML = output;
            document.getElementById('summaryOutput').classList.remove('hidden');
        }

        function backToForm() {
            document.getElementById('formContainer').classList.remove('hidden');
            document.getElementById('summaryOutput').classList.add('hidden');
            currentSectionIndex = 0;
            showSection(currentSectionIndex);
        }
    </script>
</body>
</html>
