<!DOCTYPE html>
<html>
<head>
    <title>Patient Consult Summary Form</title>
    <style>
        .bold { font-weight: bold; }
        .italic { font-style: italic; }
        .hidden { display: none; }
        .container { margin-bottom: 10px; }
        .form-group { margin-bottom: 10px; }
        .form-group label { display: inline-block; width: 200px; }
        .form-group input, .form-group select { width: 300px; }
        .summary-section p { margin: 0; }
        .summary-section label { display: inline; width: auto; }
    </style>
</head>
<body>
    <h1>Patient Consult Summary: Genetic Counseling</h1>
    <form id="geneticForm">
        <div class="form-group">
            <label for="counselorName"><span class="bold">Name of Genetic Counselor:</span></label>
            <select id="counselorName" name="counselorName">
                <option value="Hannah N. Green, MS, CGC">Hannah N. Green, MS, CGC</option>
                <option value="Andria G. Besser, MS, CGC">Andria G. Besser, MS, CGC</option>
                <option value="Carissa Huber, MS">Carissa Huber, MS</option>
            </select>
        </div>

        <div class="form-group">
            <label for="doctorName"><span class="bold">Name of Doctor:</span></label>
            <select id="doctorName" name="doctorName">
                <option value="Alan S. Berkeley, MD">Alan S. Berkeley, MD</option>
                <option value="Jennifer K. Blakemore, MD">Jennifer K. Blakemore, MD</option>
                <option value="Sarah D. Cascante, MD">Sarah D. Cascante, MD</option>
                <option value="Shannon M. DeVore, MD">Shannon M. DeVore, MD</option>
                <option value="Elizabeth Fino, MD">Elizabeth Fino, MD</option>
                <option value="James A. Grifo, MD, PhD">James A. Grifo, MD, PhD</option>
                <option value="Frederick L. Licciardi, MD">Frederick L. Licciardi, MD</option>
                <option value="Jacquelyn M. Shaw, MD">Jacquelyn M. Shaw, MD</option>
                <option value="Brooke H. Wertz, MD, MPH">Brooke H. Wertz, MD, MPH</option>
            </select>
        </div>

        <div class="form-group">
            <label for="consultationTime"><span class="bold">Consultation Date & Time:</span></label>
            <input type="datetime-local" id="consultationTime" name="consultationTime">
        </div>

        <h2>Patient Information</h2>

        <div class="form-group">
            <label for="patientName"><span class="bold">Name:</span></label>
            <input type="text" id="patientName" name="patientName">
        </div>

        <div class="form-group">
            <label for="patientDOB"><span class="bold">DOB:</span></label>
            <input type="date" id="patientDOB" name="patientDOB" onchange="calculateAge()">
        </div>

        <div class="form-group">
            <label for="gameteType"><span class="bold">Gamete Type:</span></label>
            <select id="gameteType" name="gameteType">
                <option value="Egg">Egg</option>
                <option value="Sperm">Sperm</option>
            </select>
        </div>

        <h2>Partner</h2>

        <div class="form-group">
            <label for="partnerName"><span class="bold">Name:</span></label>
            <input type="text" id="partnerName" name="partnerName">
        </div>

        <div class="form-group">
            <label for="partnerDOB"><span class="bold">DOB:</span></label>
            <input type="date" id="partnerDOB" name="partnerDOB" onchange="calculatePartnerAge()">
        </div>

        <div class="form-group">
            <label for="partnerGameteType"><span class="bold">Gamete Type:</span></label>
            <select id="partnerGameteType" name="partnerGameteType">
                <option value="Egg">Egg</option>
                <option value="Sperm">Sperm</option>
            </select>
        </div>

        <h2>Gamete Sources</h2>

        <div class="form-group">
            <label for="eggSource"><span class="bold">Egg Source:</span></label>
            <select id="eggSource" name="eggSource" onchange="toggleFreeText('eggSource')">
                <option value="Patient">Patient</option>
                <option value="Partner">Partner</option>
                <option value="Other">Other</option>
            </select>
            <input type="text" id="eggSourceOther" name="eggSourceOther" class="hidden" placeholder="Specify other">
        </div>

        <div class="form-group">
            <label for="eggState"><span class="bold">State of Egg:</span></label>
            <select id="eggState" name="eggState">
                <option value="Frozen">Frozen</option>
                <option value="Fresh">Fresh</option>
            </select>
        </div>

        <div class="form-group">
            <label for="ageOfEgg"><span class="bold">Age of Egg:</span></label>
            <input type="number" id="ageOfEgg" name="ageOfEgg" placeholder="Enter age">
        </div>

        <div class="form-group">
            <label for="spermSource"><span class="bold">Sperm Source:</span></label>
            <select id="spermSource" name="spermSource" onchange="toggleFreeText('spermSource')">
                <option value="Patient">Patient</option>
                <option value="Partner">Partner</option>
                <option value="Other">Other</option>
            </select>
            <input type="text" id="spermSourceOther" name="spermSourceOther" class="hidden" placeholder="Specify other">
        </div>

        <h2>PGT-M Indication</h2>

        <div class="form-group">
            <label for="gene"><span class="bold">Gene:</span></label>
            <input type="text" id="gene" name="gene" class="italic">
        </div>

        <div class="form-group">
            <label for="variants"><span class="bold">Variant(s):</span></label>
            <input type="text" id="variants" name="variants">
        </div>

        <div class="form-group">
            <label for="diseaseName"><span class="bold">Disease Name:</span></label>
            <input type="text" id="diseaseName" name="diseaseName">
        </div>

        <div class="form-group">
            <label for="inheritancePattern"><span class="bold">Inheritance Pattern:</span></label>
            <select id="inheritancePattern" name="inheritancePattern" onchange="toggleXLinkedText()">
                <option value="Autosomal dominant">Autosomal dominant</option>
                <option value="Autosomal recessive">Autosomal recessive</option>
                <option value="X-linked">X-linked</option>
            </select>
        </div>

        <div class="form-group">
            <label for="positiveGameteSource"><span class="bold">Positive Gamete Source(s):</span></label>
            <select id="positiveGameteSource" name="positiveGameteSource">
                <option value="Egg source">Egg source</option>
                <option value="Sperm source">Sperm source</option>
                <option value="Egg and sperm source">Egg and sperm source</option>
            </select>
        </div>

        <div id="knownFemaleCarrierFeaturesContainer" class="hidden">
            <div class="form-group">
                <label for="knownFemaleCarrierFeatures"><span class="bold">Known Female Carrier Features:</span></label>
                <input type="text" id="knownFemaleCarrierFeatures" name="knownFemaleCarrierFeatures">
            </div>
        </div>

        <button type="button" onclick="submitForm()">Submit</button>
    </form>

    <div id="summaryOutput" style="border: 1px solid #ccc; padding: 10px; margin-top: 20px;"></div>

    <script>
        function toggleFreeText(selectId) {
            var selectElement = document.getElementById(selectId);
            var freeTextField = document.getElementById(selectId + 'Other');
            if (selectElement.value === 'Other') {
                freeTextField.classList.remove('hidden');
            } else {
                freeTextField.classList.add('hidden');
            }
        }

        function toggleXLinkedText() {
            var inheritancePattern = document.getElementById('inheritancePattern').value;
            var container = document.getElementById('knownFemaleCarrierFeaturesContainer');
            if (inheritancePattern === 'X-linked') {
                container.classList.remove('hidden');
            } else {
                container.classList.add('hidden');
            }
        }

        function calculateAge() {
            var dob = new Date(document.getElementById('patientDOB').value);
            var today = new Date();
            var age = today.getFullYear() - dob.getFullYear();
            var m = today.getMonth() - dob.getMonth();
            if (m < 0 || (m === 0 && today.getDate() < dob.getDate())) {
                age--;
            }
            // Display or use the age as needed
        }

        function calculatePartnerAge() {
            var dob = new Date(document.getElementById('partnerDOB').value);
            var today = new Date();
            var age = today.getFullYear() - dob.getFullYear();
            var m = today.getMonth() - dob.getMonth();
            if (m < 0 || (m === 0 && today.getDate() < dob.getDate())) {
                age--;
            }
            // Display or use the age as needed
        }

        function submitForm() {
            var formData = new FormData(document.getElementById('geneticForm'));
            var output = '<h2>Consult Summary</h2><div class="summary-section">';
            formData.forEach((value, key) => {
                if (value) {
                    output += `<p><span class="bold">${key.replace(/([A-Z])/g, ' $1').toUpperCase()}:</span> ${value}</p>`;
                }
            });
            output += '</div>';
            document.getElementById('summaryOutput').innerHTML = output;
        }
    </script>
</body>
</html>
